<!DOCTYPE html>
<html>
  <head>
    <title>morgan herlocker</title>
    <link rel="stylesheet" href="/site.css">
    <link rel="stylesheet" href="http://yandex.st/highlightjs/7.5/styles/default.min.css">
    <script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-46038987-1', 'morganherlocker.com');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
      <h1><a id="home" href="/">morgan herlocker</a></h1>
      <a href="/about">about</a><span style="padding:5px"></span>
      <a href="https://twitter.com/morganherlocker">twitter</a><span style="padding:5px"></span>
      <a href="https://github.com/morganherlocker">github</a><span style="padding:5px"></span>
      <a href="/posts">posts</a><span style="padding:5px"></span>
      <a href="/rss.xml">rss</a>
      <h1 id="merge-a-set-of-polygons-with-turf">Merge a Set of Polygons with turf</h1>
<p><a href="http://morganherlocker.com/post/turf">turf</a> has added quite a few features centered around <a href="https://github.com/morganherlocker/turf#transformation">spatial transformations</a> recently. Mostly these types of operations involve tasks such as merging a bunch of polygons, or erasing one polygon from another. </p>
<p>There are lots of code examples in the docs, and the usage is very straightforward for anyone familiar with javascript and geojson. </p>
<p>To highlight one of these examples, here is how you would easily merge a feature collection of polygons together:</p>
<pre><code class="lang-javascript">var t = require(&#39;turf&#39;),
  fs = require(&#39;fs&#39;)

// mergeIn.geojson contains a feature collection of polygons
t.load(&#39;../test/testIn/mergeIn.geojson&#39;, function(err, polygons){
  t.merge(polygons, function(err, mergeOut){
    // mergeOut is a single polygon feature
    fs.writeFileSync(&#39;./testOut/merge.geojson&#39;, JSON.stringify(mergeOut))
  })
})
</code></pre>
<p>Note: since this example uses the filesystem, this needs to be in node.js, but if you had the objects in memory, it could be used in the browser. The results could then be displayed using leaflet or d3.</p>
<p>Here is a shot of the <a href="https://github.com/morganherlocker/turf/blob/master/test/testIn/mergeIn.geojson">polygon inputs</a>:</p>
<p><img src='/img/mergeIn.jpg' style='width:100%'></p>
<p>And here is the <a href="https://github.com/morganherlocker/turf/blob/master/test/testOut/merge.geojson">result</a>:</p>
<p><img src='/img/mergeOut.jpg' style='width:100%'></p>
<p>Want to get involved with turf? Check out the <a href="https://github.com/morganherlocker/turf">turf github page</a>.</p>
<hr>
<p><em>1-14-14</em></p>

  </body>
  <footer>
    <p>
      <hr>
      <a href="/about">about</a><span style="padding:5px"></span>
      <a href="https://twitter.com/morganherlocker">twitter</a><span style="padding:5px"></span>
      <a href="https://github.com/morganherlocker">github</a><span style="padding:5px"></span>
      <a href="/posts">posts</a><span style="padding:5px"></span>
      <a href="/rss.xml">rss</a>
    </p>
  </footer>
</html>
